@tailwind base;
@tailwind components;
@tailwind utilities;

/* ───────────────────────────────────────────────────────────
   iOS safe-area (PWA em modo stand-alone)
   Use as classes: pt-safe / pb-safe
   ─────────────────────────────────────────────────────────── */
@supports (padding: env(safe-area-inset-bottom)) {
  @layer utilities {
    .pt-safe { padding-top: calc(env(safe-area-inset-top) + 8px); }
    /* ajuste o 88px conforme a altura da sua bottom-nav */
    .pb-safe { padding-bottom: calc(env(safe-area-inset-bottom) + 88px); }
  }
}

/* ───────────────────────────────────────────────────────────
   Safari iOS estilização de <input type="date">
   ─────────────────────────────────────────────────────────── */
@layer base {
  input[type="date"] {
    -webkit-appearance: none;
    appearance: none;
    /* a altura final vem da classe Tailwind (ex.: h-11) no componente */
  }
  /* Em alguns iOS o valor fica centralizado: força alinhamento à esquerda */
  input[type="date"]::-webkit-date-and-time-value { text-align: left; }
}

/* (opcional) utilitários de impressão para deixar o PDF mais limpo */
@layer utilities {
  .print\:shadow-none { @apply shadow-none !important; }
  .print\:border-gray-300 { @apply border-gray-300 !important; }
  .print\:rounded-md { @apply rounded-md !important; }
  .print\:break-inside-avoid { break-inside: avoid; }
}

/* ========= Safe Area iOS ========= */
:root {
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

.pb-safe {
  padding-bottom: var(--safe-bottom);
}

/* Shake suave para erros no modal */
@keyframes shake {
  0%,100% { transform: translateX(0); }
  20%     { transform: translateX(-4px); }
  40%     { transform: translateX(4px); }
  60%     { transform: translateX(-3px); }
  80%     { transform: translateX(3px); }
}
.animate-shake { animation: shake .22s ease-in-out; }

/* ======== BLOQUEIOS MOBILE PROFISSIONAIS ======== */

/* ocupa a viewport toda e evita “vazamento” de scroll */
html, body, #root {
  height: 100%;
}

/* trava o rubber-band/pull-to-refresh na viewport */
body {
  overscroll-behavior-y: none;  /* Safari 16+/Chrome/Android */
  overscroll-behavior-x: none;
  -webkit-overflow-scrolling: auto; /* reduz bounce no iOS */
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  touch-action: pan-x pan-y; /* permite rolagem, mas sem gestos extras */
}

/* evita double-tap zoom em botões/links */
button, a, [role="button"] {
  touch-action: manipulation;
}

/* (opcional) se houver um container rolável principal, use esta classe nele */
.app-scroll {
  overscroll-behavior: contain; /* impede que o gesto de scroll “vaze” para a viewport */
}
